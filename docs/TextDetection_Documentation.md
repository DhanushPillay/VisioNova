# Text Detection Module

## What It Does

The Text Detection module determines if text was written by a human or generated by AI (like ChatGPT).

It uses three methods:
1. **Machine Learning Model** - A neural network trained on human vs AI text
2. **Linguistic Analysis** - Statistical patterns in writing style
3. **Pattern Detection** - Common phrases that AI frequently uses

---

## Components

### 1. AI Content Detector

**File:** `detector.py`

The main detection engine.

**How it works:**

1. **Model Prediction**
   - Uses a DistilBERT neural network
   - Outputs probability: "80% AI" or "75% Human"

2. **Linguistic Metrics**
   - **Perplexity** - How predictable is the text? AI writes predictably (low perplexity)
   - **Burstiness** - How varied are sentence lengths? AI is uniform (low burstiness)

3. **Pattern Matching**
   - Detects phrases AI commonly uses:
     - "It's important to note..."
     - "In conclusion..."
     - "Furthermore..."
     - "As an AI language model..."

**Example:**
```python
from text_detector.detector import AIContentDetector

detector = AIContentDetector()
result = detector.predict("Your text here...")

print(result['prediction'])   # 'ai_generated' or 'human'
print(result['confidence'])   # 85.5 (percentage)
print(result['scores'])       # {'human': 14.5, 'ai_generated': 85.5}
```

---

### 2. Text Explainer

**File:** `explainer.py`

Translates technical results into plain English.

**How it works:**
- Takes the detector's output
- Uses Groq AI (Llama 3) to generate a readable explanation
- Provides writing tips if text seems AI-generated

**Example:**
```python
from text_detector.explainer import TextExplainer

explainer = TextExplainer()
explanation = explainer.explain(result)

print(explanation['summary'])
# "This text has characteristics of AI-generated content (85% confidence).
#  The writing shows uniform sentence structure and uses formal transitions
#  commonly found in AI outputs."

print(explanation['suggestions'])
# ["Vary your sentence lengths", "Use more conversational language"]
```

---

## Understanding the Metrics

| Metric | What It Measures | AI Text | Human Text |
|--------|------------------|---------|------------|
| **Perplexity** | Predictability | Low (predictable) | High (creative) |
| **Burstiness** | Sentence length variation | Low (uniform) | High (varied) |
| **Patterns** | Formal phrases | Many | Few |

---

## Detection Flow

```
Input Text
    |
    v
+------------------+
| DistilBERT Model |  --> Base probability (Human vs AI)
+------------------+
    |
    v
+---------------------+
| Linguistic Analysis |  --> Perplexity, Burstiness scores
+---------------------+
    |
    v
+-------------------+
| Pattern Detection |  --> Count AI phrases
+-------------------+
    |
    v
+---------------+
| Text Explainer |  --> Human-readable explanation
+---------------+
    |
    v
Final Result (prediction + explanation)
```

---

## API Response Format

```json
{
  "prediction": "ai_generated",
  "confidence": 85.5,
  "scores": {
    "human": 14.5,
    "ai_generated": 85.5
  },
  "metrics": {
    "perplexity": {"average": 25.3},
    "burstiness": {"score": 0.2},
    "vocabulary_richness": 42.1
  },
  "detected_patterns": {
    "total_count": 4,
    "categories": {
      "formal_transitions": {"count": 2, "examples": ["furthermore", "in conclusion"]},
      "hedging": {"count": 2, "examples": ["it's important to note"]}
    }
  }
}
```
